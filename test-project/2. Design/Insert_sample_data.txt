show databases;
use ICS199Group06_dev;
show tables;
desc CUSTOMER;
SELECT * FROM CODE WHERE TABLENAME = 'CUSTOMER';
ALTER TABLE CUSTOMER MODIFY PHONE INT(1222222223);
ALTER TABLE CUSTOMER DROP COLUMN PHONE;
ALTER TABLE CUSTOMER ADD COLUMN PHONE VARCHAR(11);
/*CUSTOMER*/
INSERT INTO CUSTOMER (CUST_ID, USER_AUTHORITY, USERNAME, PASSWORD, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE)
				VALUES(1, '01', 'murphy', SHA1("murphy") , 'Murphy', 'Lee', '773@gmail.com', '333 Longacre DR', '12345123451');              
                
INSERT INTO CUSTOMER (CUST_ID, USER_AUTHORITY, USERNAME, PASSWORD, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE)
				VALUES(2, '01', 'james', SHA1("james"), 'James', 'Choi', '987@gmail.com', '334 Longacre DR', 12345123451);
INSERT INTO CUSTOMER (CUST_ID, USER_AUTHORITY, USERNAME, PASSWORD, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE)
				VALUES(3, '02', 'changsin', SHA1("changsin"), 'Changsin', 'Park', '768@gmail.com', '335 Longacre DR', 13333333451);
INSERT INTO CUSTOMER (CUST_ID, USER_AUTHORITY, USERNAME, PASSWORD, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE)
				VALUES(4, '03', 'quang', SHA1("quang"), 'Quang', 'Huy', '049@gmail.com', '336 Longacre DR', 14444423451);
INSERT INTO CUSTOMER (CUST_ID, USER_AUTHORITY, USERNAME, PASSWORD, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE)
				VALUES(5, '03', 'rolando', SHA1("rolando"), 'Rolando', 'Pacho', '758@gmail.com', '337 Longacre DR', 15555523451);
				
               select * FROM CUSTOMER;
               TRUNCATE TABLE CUSTOMER;
               DELETE FROM CUSTOMER WHERE CUST_ID = 3;
               DESC CUSTOMER;
               COMMIT;
SELECT * FROM CODE;
DESC RESTAURANT;
ALTER TABLE RESTAURANT DROP COLUMN PRODUCT_ID;
ALTER TABLE RESTAURANT ADD COLUMN rest_phone VARCHAR(11);
INSERT INTO CODE VALUES ('RESTAURANT','REST_CATEGORY','','');
SELECT * FROM RESTAURANT;
/*RESTAURANT*/
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES(1, '01', 'Good Sushi', '908 Japanese RD', 'Japanese food', '12346675432', 'includes/pic/japanese1.jpg');
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES( 2, '02', 'Korean Sura', '908 Korean RD', 'Korean food', '13345675432', 'includes/pic/korean1.jpg');
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES(3, '03', 'China Sunhwa', '908 Chinese RD', 'Chinese food', '15345675432','includes/pic/chinese1.jpg' );
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES(4, '04', 'Real Italy Food', '908 Italy RD', 'Italy food', '17345675432', 'includes/pic/italy1.jpg' );
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES(5, '05', 'Big Burger', '908 Canada RD', 'Canadian food', '11345675432', 'includes/pic/canadian1.jpg');
INSERT INTO RESTAURANT (REST_ID, REST_CATEGORY, REST_NAME, REST_ADD, REST_DESC, REST_PHONE, REST_PIC_FILE)
				VALUES(6, '06' ,'Vietnamese Noodle', '908 Vietnamese RD', 'Vietnamese food', '19345675432', 'includes/pic/vietnamese1.jpg');
 ALTER TABLE ORDERINFO DROP COLUMN PAYMENT_DATE;
ALTER TABLE ORDERINFO ADD COLUMN payment_date datetime;
DELETE 
/*ORDERINFO*/
;
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)	
			VALUES(1, '05', now(), 1, 1);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)		
			VALUES(1, '05', now(), 1, 1);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)		
			VALUES(3, '02', now()-3, 3, 3);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)		
			VALUES(4, '03', now()-2, 4, 4);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)		
			VALUES(5, '04', now()-1, 5, 5);			
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)		
			VALUES(6, '04', now()-1, 5, 5);		
--
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(7, '01', now(), 1, 1);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(8, '02', now(), 1, 1);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(9, '03', now()-3, 3, 3);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(10, '04', now()-2, 4, 4);
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(11, '05', now()-1, 5, 5);			
INSERT INTO ORDERINFO (ORDER_ID, ORDER_STATUS, PAYMENT_DATE, CUST_ID, REST_ID)				VALUES(12, '04', now()-1, 5, 5);		
            
				 SELECT * FROM ORDERINFO;
                 DELETE FROM ORDERINFO WHERE ORDER_ID = 1;
                 SELECT NOW() FROM ORDERINFO;
                 COMMIT;
				DESC ORDERINFO;  DATETIME
                ;
                SELECT * FROM SOLD_PRODUCT;
                DESC SOLD_PRODUCT;
/*SOLD_PRODUCT*/
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('1', 'SUCKS', 1, 1, 1);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('2', 'SUCKS', 2, 2, 2);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('3', 'NOT BAD',3, 3, 3);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('4', 'GOOD', 4, 4, 4);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('5', 'GREAT', 5, 5, 5);		
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)
				VALUES ('3', 'GREAT', 5, 5, 6);	
---
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('1', 'SUCKS', 1, 7, 7);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('1', 'SUCKS', 2, 8, 8);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('1', 'NOT BAD',3, 9, 9);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('1', 'GOOD', 4, 10, 10);
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('2', 'GREAT', 5, 11, 11);		
INSERT INTO SOLD_PRODUCT (QUANTITY, REVIEW, RATE_POINT, PRODUCT_ID, ORDER_ID)			VALUES ('2', 'GREAT', 5, 12, 12);	
				select * from SOLD_PRODUCT;
/*PRODUCT*/

SELECT * FROM SOLD_PRODUCT;
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID)
				VALUES(7, 'Japanese Burger', 5,'07', 'includes/pic/japanese1_food2.jpg', 1);
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID)
				VALUES(8, 'Korean Burger', 5.5,'07', 'includes/pic/korean1_food2.jpg', 2);
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID)
				VALUES(9, 'Chinese Burger', 7.99,'07', 'includes/pic/chinese1_food2.jpg', 3);
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID)
				VALUES(10, 'Italy Pizza', 11.23,'08', 'includes/pic/italy1_food2.jpg', 4);
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID)
				VALUES(11, 'Canadian Pizza', 19.23,'08', 'includes/pic/canadian1_food2.jpg', 5);
INSERT INTO PRODUCT (PRODUCT_ID, PRODUCT_NAME, PRODUCT_PRICE, PRODUCT_CATEGORY, PIC_PATH, REST_ID) 
                VALUES(12, 'Vietnamese Pizza', 15,'08', 'includes/pic/vietnamese1_food2.jpg', 5);
				DESC CODE;
                
                SELECT * FROM PRODUCT;
/*CODE*/
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','01','Suchi');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','02','Kimbab');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','03','Crab Meal');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','04','Spaghetti');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','05','Poutine');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','06','Ramen');

INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','07','Hambuger');
INSERT INTO CODE (TABLENAME, COLNAME, CODE_VALUE, description) 	VALUES('PRODUCT','PRODUCT_CATEGORY','08','Pizza');

SELECT * FROM CODE;
-- 1. USER INFORMATION
SELECT (SELECT DESCRIPTION 
	      FROM CODE C2 
          WHERE C2.TABLENAME='CUSTOMER' 
            AND C2.COLNAME='USER_AUTHORITY' 
            AND CODE_VALUE=C.USER_AUTHORITY) AUTHORITY
, C.USERNAME, C.FIRST_NAME, C.LAST_NAME, C.EMAIL, C.ADDRESS, C.PHONE FROM CUSTOMER C;

-- 2. RESTAURANT
SELECT  (SELECT DESCRIPTION 
	      FROM CODE C2 
          WHERE C2.TABLENAME='RESTAURANT' 
            AND C2.COLNAME='REST_CATD_ID' 
            AND C2.CODE_VALUE=R.REST_CATEGORY) RESTAURANT_CATEGORY
, R.REST_NAME, R.REST_ADD, R.REST_DESC, R.REST_PHONE FROM RESTAURANT R;
 
-- 3. PRODUCT
SELECT R.REST_NAME, R.REST_ADD, R.REST_DESC, R.REST_PHONE , P.PRODUCT_NAME, P.PRODUCT_PRICE
  FROM RESTAURANT R, PRODUCT P
  WHERE R.REST_ID = P.REST_ID;

-- 4. ORDER INFO
SELECT O.ORDER_ID, 
    (SELECT DESCRIPTION 
	      FROM CODE C2 
          WHERE C2.TABLENAME='ORDERINFO' 
            AND C2.COLNAME='ORDER_STATUS' 
            AND C2.CODE_VALUE=O.ORDER_STATUS)  AS "ORDER STATUS",
        O.CUST_ID, C.USERNAME,
        R.REST_NAME, 
        S.QUANTITY, S.RATE_POINT, S.REVIEW, P.PRODUCT_NAME
 FROM ORDERINFO O, CUSTOMER C, RESTAURANT R, SOLD_PRODUCT S, PRODUCT P
 WHERE O.CUST_ID = C.CUST_ID
   AND O.REST_ID = R.REST_ID
   AND O.ORDER_ID = S.ORDER_ID
   AND S.PRODUCT_ID = P.PRODUCT_ID
 ; 
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				
				